<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="Restaurant Booking Site for Adelaide">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Restaurant Sign Up | TABLES ARE US</title>
	
	<!-- Javascripts -->
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script src="javascripts/entire-site.js" defer></script>
	<script src="javascripts/account.js" defer></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

	<meta name="google-signin-client_id" content="634525782579-m1jv4fs71n3nprika3kup2hg6kq4828m.apps.googleusercontent.com">

	<script>
		function onLoad() {
			gapi.load('auth2', function() {
				gapi.auth2.init();
			});
		}
	</script>

	<script src="https://apis.google.com/js/platform.js?onload=onLoad" async defer></script>
	
	<!-- Styling -->
		<!-- pure CSS -->
		<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
		<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
		
		<!-- Font Awesome Icons -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
		
		<!-- local fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:900&display=swap" rel="stylesheet">
		
		<!-- local CSS -->
		<link rel="stylesheet" href="stylesheets/entire-site.css">
		<link rel="stylesheet" href="stylesheets/user-account.css">
		
	<!-- End of Styling -->

</head>

<body onload="changeHeader(); getCurrentBookings(); getUserReviews();">
<div id="vuemain">
	
	<vue-header></vue-header>

	<br>
	<br>
	<br>

    <div class="userInfo center">
    	<h2>Hi <span id="popName"></span></h2>
    	<h2>We hope you're hungry.</h2>
		<br>
		<div>
			<form class="pure-form">
				<h4>Have your details changed?</h4>
				<fieldset>
					Phone: <input v-model="currentUserNewPhone" class="input" type="number" placeholder="new phone">
					Email: <input v-model="currentUserNewEmail" class="input" type="text" placeholder="new email">
					<button type="button" onclick="updateDetails();" class="yellowButton pure-button pure-button-primary">Submit</button>	
				</fieldset>
			</form>
			<div id="newDetailsPopUp"></div>
		</div>
    	<br>
    	<h4>Here are your current bookings. You can also cancel them here.</h4>

    	<!-- CURRENT BOOKINGS -->
    		<div id="currentBookings">

    			<div>
    				<vue-cur-bookings v-for="item in currentUserBookings" v-bind:bookings="item"></vue-cur-bookings>
    			</div>
    		</div>
    		<br>
    		<br>
    		<!-- REVIEWS -->
    		<h4>Reviews you have written</h4>

    		<div id="currentReviews">
    			<div>
    				<vue-cur-reviews v-for="item in currentUserReviews" v-bind:reviews="item"></vue-cur-reviews>
    			</div>
    		</div>


    </div>

    <br>
    <br>
    <br>

	<vue-footer></vue-footer>

</div>

</body>
